---
title: ディスクにデータを保存する
---

数値計算ではたくさんのデータを扱いますが、それらは一時的・永続的にディスクに保存します。ディスクにデータが保存できると個々のプロセスは各々の役割に集中出来ます。例えば

- 設定ファイルを読み込んで時間発展を計算して、時系列データをディスクに保存する
- 時系列データをディスクから読み込んで統計量を計算する
- 時系列データを可視化する
- 時系列データと設定ファイルを読み込んで続きの時系列を計算する

等の操作を別々のプロセス・プログラムで行うことが出来ます。例えば時間発展は性能が必要なのでRustで行って可視化はPythonやParaViewのような専用のソフトウェアを使うこともあるでしょう。この時データをどうやって保存するのかが重要になります。

ディスク上にデータを保存するには、データをシリアライズ(直列化)する必要があります。用途に応じて様々なデータフォーマットが提案され使用されています。それらの性質によって分類して議論する事も可能ですが、まずはよく普及している具体例を見ていきましょう。

JSON
-----
まずは単純なJSONから見ていきましょう。

Protocol Buffers
----------------
次に代表的なスキーマ付きのデータフォーマットであるProtocol Buffersを見てみましょう。

Tar
----
少し趣向を変えてアーカイブ方式であるTarについて見てみましょう。シリアライズ方式としてTarを見るとこれは個別にシリアライズされたデータを一つのファイルとしてまとめる役割があります。例えば時系列データを保存することを考えると、各時間ステップに応じてデータがあるのでそれらを個別にシリアライズした後全体をまとめるものが必要です。

